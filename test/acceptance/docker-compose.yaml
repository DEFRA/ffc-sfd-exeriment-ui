version: '3.8'

services:
  app:
    build: .
    volumes:
      - .:/usr/src/app
    environment:
      BROWSERSTACK_ACCESS_KEY: ${BROWSERSTACK_ACCESS_KEY}
      BROWSERSTACK_USERNAME: ${BROWSERSTACK_USERNAME}
      CHROME_ARGS: "--headless --disable-gpu --no-sandbox --disable-dev-shm-usage --disable-software-rasterizer --disable-setuid-sandbox --window-size=1920,1080"
      TEST_ENVIRONMENT_ROOT_URL: ${TEST_ENVIRONMENT_ROOT_URL}
    command: npm run test
